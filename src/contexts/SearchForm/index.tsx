//* ///////////////////////////////////////////////////////////////////////////
//* SearchForm Context
//* ///////////////////////////////////////////////////////////////////////////
//* ===========================================================================
//* 1.- Imports
//* ===========================================================================
import { createContext, ReactNode, useState, useContext } from 'react';
//* ===========================================================================

//* ===========================================================================
//* 2.- Models / Interfaces
//* ===========================================================================
//* ---------------------------------------------------------------------------
//* 2.1.- SearchFormContextValues
//* ---------------------------------------------------------------------------
interface SearchFormContextValues {
  search: string;
  setSearch: (value: React.SetStateAction<string>) => void;
}
//* ---------------------------------------------------------------------------

//* ---------------------------------------------------------------------------
//* 2.2.- ITodoSearchProviderProps
//* ---------------------------------------------------------------------------
interface SearchFormContextProviderProps {
  children: ReactNode;
}
//* ---------------------------------------------------------------------------
//* ===========================================================================

//* ===========================================================================
//* 3.- Create the context
//* ===========================================================================
const SearchFormContext = createContext<SearchFormContextValues | undefined>(undefined);
//* ===========================================================================

//* ===========================================================================
//* 4.- Create the Provider
//* ===========================================================================
const SearchFormProvider = ({ children }: SearchFormContextProviderProps) => {
  const [search, setSearch] = useState<string>('');

  const data: SearchFormContextValues = {
    search,
    setSearch
  };

  return <SearchFormContext.Provider value={data}>{children}</SearchFormContext.Provider>;
};
//* ===========================================================================

//* ===========================================================================
//* 5.- Create useTodoSearchContext
//* ===========================================================================
const useSearchFormContext = () => {
  const context = useContext(SearchFormContext);

  if (context === undefined) {
    throw Error(
      '"useTodoSearchContext", must be used within a "TodoSearchProvider" - "useTodoSearchContext", debe usarse dentro de un "TodoSearchProvider"'
    );
  }

  return context;
};
//* ===========================================================================

//* ===========================================================================
//* 6.- Export
//* ===========================================================================
export { SearchFormProvider, useSearchFormContext };
//* ===========================================================================
//* ///////////////////////////////////////////////////////////////////////////
